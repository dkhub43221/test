local Players = game:GetService("Players")
local player = Players.LocalPlayer

local avatarUrl = "https://www.roblox.com/headshot-thumbnail/image?userId=" .. player.UserId .. "&width=150&height=150&format=png"

game.StarterGui:SetCore("SendNotification", {
    Title = "Script Loading";
    Text = "Welcome, " .. player.Name .. "! Script is loading, please wait...";
    Icon = avatarUrl;
    Duration = 5.5;
})

wait(6)

local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
local executor = identifyexecutor and identifyexecutor() or "Unknown Executor"


local customTheme = {
   TextColor = Color3.fromRGB(255, 255, 255),
   Background = Color3.fromRGB(0, 0, 0),
   Topbar = Color3.fromRGB(0, 0, 0),
   TopbarLine = Color3.fromRGB(255, 255, 255),
   Shadow = Color3.fromRGB(0, 0, 0),
   Accent = Color3.fromRGB(255, 255, 255),
   NotificationBackground = Color3.fromRGB(0, 0, 0),
   NotificationActionsBackground = Color3.fromRGB(0, 0, 0),
   TabBackground = Color3.fromRGB(0, 0, 0),
   TabStroke = Color3.fromRGB(0, 0, 0),
   TabBackgroundSelected = Color3.fromRGB(0, 0, 0),
   TabTextColor = Color3.fromRGB(149, 149, 149),
   SelectedTabTextColor = Color3.fromRGB(255, 255, 255),
   ElementBackground = Color3.fromRGB(0, 0, 0),
   ElementBackgroundHover = Color3.fromRGB(20, 20, 20),
   SecondaryElementBackground = Color3.fromRGB(0, 0, 0),
   ElementStroke = Color3.fromRGB(255, 255, 255),
   SecondaryElementStroke = Color3.fromRGB(255, 255, 255),
   SliderBackground = Color3.fromRGB(0, 0, 0),
   SliderProgress = Color3.fromRGB(255, 255, 255),
   SliderStroke = Color3.fromRGB(255, 255, 255),
   ToggleBackground = Color3.fromRGB(0, 0, 0),
   ToggleEnabled = Color3.fromRGB(255, 255, 255),
   ToggleDisabled = Color3.fromRGB(100, 100, 100),
   ToggleEnabledStroke = Color3.fromRGB(255, 255, 255),
   ToggleDisabledStroke = Color3.fromRGB(100, 100, 100),
   ToggleEnabledOuterStroke = Color3.fromRGB(255, 255, 255),
   ToggleDisabledOuterStroke = Color3.fromRGB(100, 100, 100),
   DropdownSelected = Color3.fromRGB(0, 0, 0),
   DropdownUnselected = Color3.fromRGB(0, 0, 0),
   InputBackground = Color3.fromRGB(0, 0, 0),
   InputStroke = Color3.fromRGB(255, 255, 255),
   PlaceholderColor = Color3.fromRGB(150, 150, 150),
   KeyInputBackground = Color3.fromRGB(0, 0, 0),
   KeyInputTextColor = Color3.fromRGB(255, 255, 255)
}

local Window = Rayfield:CreateWindow({
   Name = "DK's Hub | Streetz War 2 | V1 | " .. executor,
   Icon = 0,
   LoadingTitle = "Script Loading...",
   LoadingSubtitle = "",
   Theme = customTheme,
   DisableRayfieldPrompts = false,
   DisableBuildWarnings = false,
   ConfigurationSaving = {Enabled = false, FolderName = "BlackThemeHub", FileName = "BigHub"},
   Discord = {Enabled = true, Invite = "Fy7PanRV", RememberJoins = true},
   KeySystem = false,
   KeySettings = {Title = "X-DK | V1", Subtitle = "Enter Key Below", Note = "Buy A Key At Discord.gg/dkshub", FileName = "Key", SaveKey = true, GrabKeyFromSite = false, Key = {""}, Theme = customTheme}
})

local MainTab = Window:CreateTab("Main", "box")
MainTab:CreateSection("Inf Money")

MainTab:CreateParagraph({Title = "Warning!", Content = "When Doing 'Money Vulnerability' Please remember other people can see u doing this."})

MainTab:CreateToggle({
    Name = "Money Vulnerability",
    CurrentValue = false,
    Flag = "Toggle1",
    Callback = function(Value)
        getgenv().LOLIDC = Value
        if Value then
            task.spawn(function()
                while getgenv().LOLIDC do
                    task.wait()
                    for i = 1, 10 do
                        task.spawn(function()
                            local args = { "withdraw", 0.5 }
                            game:GetService("ReplicatedStorage"):WaitForChild("ATMRF"):InvokeServer(unpack(args))
                        end)
                        task.spawn(function()
                            local args = { "deposit", 0.5 }
                            game:GetService("ReplicatedStorage"):WaitForChild("ATMRF"):InvokeServer(unpack(args))
                        end)
                    end
                end
            end)
        end
    end,
})

MainTab:CreateSection("Dupe Tools")

MainTab:CreateParagraph({
    Title = "Usage",
    Content = [[Step 1: Purchase an 'Apartment'
Step 2: Go to your 'Safe' then equip your item u want to dupe u need 1 in safe and 1 in inventory of the same item
Step 3: Then click 'Duplicate Current Item']]
})

local amount = 1

MainTab:CreateInput({
   Name = "Enter Dupe Amount",
   CurrentValue = "",
   PlaceholderText = "Input",
   RemoveTextAfterFocusLost = false,
   Flag = "Dupe",
   Callback = function(Value)
       amount = Value
   end,
})
    
MainTab:CreateButton({
    Name = "Duplicate Current Item",
    Callback = function()
        local RS = game:GetService("ReplicatedStorage")
        local Players = game:GetService("Players")
        local p = Players.LocalPlayer
        local c = p.Character or p.CharacterAdded:Wait()

        local tool = c:FindFirstChildOfClass("Tool")
        if not tool then
            warn("No Tool Found in Hand!")
            return
        end

        local r = RS:WaitForChild("TakeItemSafe")
        local name = tool.Name

        local safes = {}
        for _, v in ipairs(workspace:GetDescendants()) do
            if v.Name:lower():find("safe") then
                safes[#safes+1] = v
            end
        end

        for _, safe in ipairs(safes) do
            for i = 1, amount do
                task.spawn(function()
                    for _ = 1, 5 do
                        pcall(r.FireServer, r, name, safe)
                    end
                end)
            end
        end

        print("Duping...")
    end,
})

MainTab:CreateSection("Kill Aura - Hold Gun")

local Players = game:GetService("Players")
local RS = game:GetService("ReplicatedStorage")
local LP = game:GetService("Players").LocalPlayer
local Event = RS:WaitForChild("Communication"):WaitForChild("Events"):WaitForChild("hit")
local RunService = game:GetService("RunService")

local autoHit = false
local auraRange = 1000
local hitRate = 10
local teamCheck = false

local function getEquippedTool()
    local char = LP.Character
    if not char then return nil end
    for _, v in ipairs(char:GetChildren()) do
        if v:IsA("Tool") and v:FindFirstChild("Handle") then
            return v
        end
    end
    return nil
end

local function getTargetsInRange()
    local targets = {}
    local char = LP.Character
    if not char then return targets end
    local myHRP = char:FindFirstChild("HumanoidRootPart")
    if not myHRP then return targets end
    for _, plr in ipairs(Players:GetPlayers()) do
        if plr ~= LP and plr.Character then

            if teamCheck and plr.Team == LP.Team then
                
                return targets
            end
            local root = plr.Character:FindFirstChild("HumanoidRootPart")
            local hum = plr.Character:FindFirstChild("Humanoid")
            if root and hum and hum.Health > 0 then
                local dist = (root.Position - myHRP.Position).Magnitude
                if dist <= auraRange then
                    table.insert(targets, plr)
                end
            end
        end
    end
    return targets
end

local function hitTarget(plr)
    if not plr or not plr.Character then return end
    local root = plr.Character:FindFirstChild("HumanoidRootPart")
    local hum = plr.Character:FindFirstChild("Humanoid")
    if not root or not hum or hum.Health <= 0 then return end
    local weapon = getEquippedTool()
    if not weapon then return end
    local origin = weapon.Handle.Position
    local direction = (root.Position - origin).Unit
    local args = {weapon, root, root.Position, Vector3.new(0, -1, 0), direction}
    pcall(function() 
        if Event then
            Event:FireServer(unpack(args)) 
        end
    end)
end


local hitLoop
task.spawn(function()
    while true do
        if autoHit then
            local targets = getTargetsInRange()
            for _, t in ipairs(targets) do
                hitTarget(t)
            end
        end
        task.wait(1 / hitRate)
    end
end)


MainTab:CreateToggle({
    Name = "Enable Kill Aura",
    CurrentValue = false,
    Callback = function(state)
        autoHit = state

        if not autoHit and hitLoop then
            hitLoop:Disconnect()
        end
    end
})



MainTab:CreateSlider({
   Name = "Kill Aura Range",
   Range = {50, 5000},
   Increment = 100,
   Suffix = "Range",
   CurrentValue = auraRange,
   Flag = "Slider1", 
   Callback = function(Value)
       auraRange = Value
   end
})

MainTab:CreateSection("Other's")

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LootPlayerRF = ReplicatedStorage:WaitForChild("LootPlayerRF")

MainTab:CreateButton({
    Name = "Loot All Players",
    Callback = function()
        for _, player in pairs(Players:GetPlayers()) do
            LootPlayerRF:InvokeServer(player)
        end
    end,
})

local PlayerTab = Window:CreateTab("Player", "wand")
PlayerTab:CreateSection("Speed")

local DisableCameraShakeButton = PlayerTab:CreateButton({
    Name = "Disable Camera Shake",
    Callback = function()
        local char = game:GetService("Players").LocalPlayer.Character
        if char and char:FindFirstChild("CharacterScripts") then
            char.CharacterScripts.Enabled = false
        end
    end
})

local WalkSpeedEnabled = false
local defaultWalkSpeed = 16
local currentWalkSpeed = 16

local WalkSpeedToggle = PlayerTab:CreateToggle({
    Name = "Enable Speed",
    CurrentValue = WalkSpeedEnabled,
    Callback = function(Value)
        WalkSpeedEnabled = Value
        local character = game.Players.LocalPlayer.Character
        if character and character:FindFirstChild("Humanoid") then
            if WalkSpeedEnabled then
                character.Humanoid.WalkSpeed = currentWalkSpeed
            else
                character.Humanoid.WalkSpeed = defaultWalkSpeed
            end
        end
    end
})


local WalkSpeedInput = PlayerTab:CreateInput({
    Name = "Speed (0-150)",
    PlaceholderText = "Input",
    RemoveTextAfterFocusLost = false,
    Callback = function(Value)
        local numValue = tonumber(Value)
        if numValue then
            if numValue > 150 then
                numValue = 150
            elseif numValue < 0 then
                numValue = 0
            end
            currentWalkSpeed = numValue
            if WalkSpeedEnabled then
                local character = game.Players.LocalPlayer.Character
                if character and character:FindFirstChild("Humanoid") then
                    character.Humanoid.WalkSpeed = currentWalkSpeed
                end
            end
        end
    end
})

PlayerTab:CreateSection("Inf Jump")

local InfiniteJumpEnabled = false
local jumpPower = 50

local InfiniteJumpToggle = PlayerTab:CreateToggle({
    Name = "Enable Inf Jump",
    CurrentValue = InfiniteJumpEnabled,
    Callback = function(Value)
        InfiniteJumpEnabled = Value
    end
})

local InfiniteJumpPowerInput = PlayerTab:CreateInput({
    Name = "Jump Power (50-200)",
    PlaceholderText = "Input",
    RemoveTextAfterFocusLost = false,
    Callback = function(Value)
        local num = tonumber(Value)
        if num then
            if num > 200 then
                num = 200
            elseif num < 0 then
                num = 0
            end
            jumpPower = num
        end
    end
})

local UIS = game:GetService("UserInputService")
UIS.JumpRequest:Connect(function()
    if InfiniteJumpEnabled then
        local char = game.Players.LocalPlayer.Character
        if char and char:FindFirstChild("Humanoid") then
            char.Humanoid.JumpPower = jumpPower
            char.Humanoid:ChangeState("Jumping")
        end
    end
end)


PlayerTab:CreateSection("Jump Power")

local JumpPowerEnabled = false
local defaultJumpPower = 50
local currentJumpPower = 50

local JumpPowerToggle = PlayerTab:CreateToggle({
    Name = "Enable Jump Power",
    CurrentValue = JumpPowerEnabled,
    Callback = function(Value)
        JumpPowerEnabled = Value
        local character = game.Players.LocalPlayer.Character
        if character and character:FindFirstChild("Humanoid") then
            if JumpPowerEnabled then
                character.Humanoid.JumpPower = currentJumpPower
            else
                character.Humanoid.JumpPower = defaultJumpPower
            end
        end
    end
})

local JumpPowerInput = PlayerTab:CreateInput({
    Name = "Jump Power (50-300)",
    PlaceholderText = "Input",
    RemoveTextAfterFocusLost = false,
    Callback = function(Value)
        local numValue = tonumber(Value)
        if numValue then
            if numValue > 300 then
                numValue = 300
            elseif numValue < 0 then
                numValue = 0
            end
            currentJumpPower = numValue
            if JumpPowerEnabled then
                local character = game.Players.LocalPlayer.Character
                if character and character:FindFirstChild("Humanoid") then
                    character.Humanoid.JumpPower = currentJumpPower
                end
            end
        end
    end
})

PlayerTab:CreateSection("No-Clip")

local player = game:GetService("Players").LocalPlayer
local noclip = false
local noclipLoop

local function toggleNoclip(state)
    noclip = state
    if noclip then
        noclipLoop = task.spawn(function()
            while noclip do
                if player.Character then
                    for _, part in pairs(player.Character:GetDescendants()) do
                        if part:IsA("BasePart") then
                            part.CanCollide = false
                        end
                    end
                end
                task.wait()
            end
        end)
    else
        if noclipLoop then
            task.cancel(noclipLoop)
        end
        if player.Character then
            for _, part in pairs(player.Character:GetDescendants()) do
                if part:IsA("BasePart") then
                    part.CanCollide = true
                end
            end
        end
    end
end


PlayerTab:CreateToggle({
    Name = "No Clip",
    CurrentValue = false,
    Flag = "NoclipToggle",
    Callback = function(Value)
        toggleNoclip(Value)
    end
})

PlayerTab:CreateSection("Bypass.lmao Visuals")

local lastplayername = ""
local lastplayerlvl = ""
local lastplayeremoji = ""


local function updateCharacterGui(field, text)
    local character = game.Players.LocalPlayer.Character
    if character and character:FindFirstChild("Head") then
        local nameGui = character.Head:FindFirstChild("NameGui")
        if nameGui and nameGui:FindFirstChild("Main") then
            local guiElement = nameGui.Main:FindFirstChild(field)
            if guiElement then
                guiElement.Text = text
            end
        end
    end
end

PlayerTab:CreateInput({
    Name = "Enter Custom Name",
    PlaceholderText = "Input",
    RemoveTextAfterFocusLost = false,
    Callback = function(text)
        lastplayername = text
        updateCharacterGui("Name", text)
    end
})


PlayerTab:CreateInput({
    Name = "Enter Custom  Level",
    PlaceholderText = "Input",
    RemoveTextAfterFocusLost = false,
    Callback = function(text)
        lastplayerlvl = text
        updateCharacterGui("Level", "LVL " .. text)
    end
})

PlayerTab:CreateInput({
    Name = "Enter Custom Omojie",
    PlaceholderText = "Input",
    RemoveTextAfterFocusLost = false,
    Callback = function(text)
        lastplayeremoji = text
        updateCharacterGui("Extras", "[" .. text .. "]")
    end
})

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer
local Backpack = LocalPlayer:WaitForChild("Backpack")

local AutofarmTab = Window:CreateTab("AutoFarm", "clock-4")
AutofarmTab:CreateSection("Box Autofarm")

local boxToggle = false
AutofarmTab:CreateToggle({
    Name = "Box Autofarm",
    CurrentValue = false,
    Flag = "BoxToggle",
    Callback = function(value)
        boxToggle = value
        if boxToggle then
            spawn(function()
                while boxToggle do
                    local character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
                    local rootPart = character:WaitForChild("HumanoidRootPart")
                    rootPart.CFrame = CFrame.new(-121, 4, 301)
                    task.wait(0.2)
                    local box = workspace:WaitForChild("Job"):WaitForChild("Box"):WaitForChild("BOX1")
                    fireclickdetector(box:WaitForChild("ClickDetector"))
                    task.wait(0.2)
                    local boxTool = Backpack:FindFirstChild("Box")
                    if boxTool then LocalPlayer.Character.Humanoid:EquipTool(boxTool) end
                    rootPart.CFrame = CFrame.new(-111, 4, 146)
                    task.wait(0.5)
                end
            end)
        end
    end
})

AutofarmTab:CreateSection("Mop Autofarm")

local giveMop = ReplicatedStorage:FindFirstChild("GiveMop")
local cleaningEnabled = false
local function equipMop()
    local mop = Backpack:FindFirstChild("Mop")
    if mop then mop.Parent = LocalPlayer.Character end
end

AutofarmTab:CreateToggle({
    Name = "Mop Autofarm",
    CurrentValue = false,
    Flag = "CleanToggle",
    Callback = function(value)
        cleaningEnabled = value
        if cleaningEnabled then
            spawn(function()
                while cleaningEnabled do
                    for _, part in pairs(workspace.CleanPart:GetChildren()) do
                        if not cleaningEnabled then break end
                        if giveMop then
                            if giveMop:IsA("RemoteEvent") then giveMop:FireServer()
                            elseif giveMop:IsA("RemoteFunction") then giveMop:InvokeServer() end
                            task.wait(1)
                            equipMop()
                        end
                        local targetPos
                        if part:IsA("BasePart") then targetPos = part.Position
                        elseif part:IsA("Model") and part.PrimaryPart then targetPos = part.PrimaryPart.Position end
                        if targetPos then LocalPlayer.Character:MoveTo(targetPos) task.wait(3) end
                        for _, prompt in pairs(part:GetDescendants()) do
                            if prompt:IsA("ProximityPrompt") then fireproximityprompt(prompt) task.wait(0.5) end
                        end
                    end
                    task.wait(1)
                end
            end)
        end
    end
})

AutofarmTab:CreateSection("Dupe Autofarm")

local Button = AutofarmTab:CreateButton({
    Name = "Dupe Bypass.lol Slow asf hehe",
    Callback = function()
        game:GetService("TextChatService").TextChannels.RBXGeneral:SendAsync("/pay 0.5")
        for i, v in pairs(game:GetService("Players").LocalPlayer.Backpack:GetChildren()) do
            if v.Name == "£0.5" then
                spawn(function()
                    v.ReedemScript.h:InvokeServer(v.Handle)
                end)
            end
        end
    end,
})

local CombatTab = Window:CreateTab("Combat", "wrench")
CombatTab:CreateSection("Aimbot")

local playerAimbot = LocalPlayer
local cameraAimbot = Camera
local aimbotEnabled = false
local aimPart = "HumanoidRootPart"

local function getNearestPlayer()
    local closestPlayer
    local closestDistance = math.huge

    for _, otherPlayer in ipairs(Players:GetPlayers()) do
        if otherPlayer ~= playerAimbot
            and otherPlayer.Character
            and otherPlayer.Character:FindFirstChild("Humanoid")
            and otherPlayer.Character:FindFirstChild("HumanoidRootPart")
            and otherPlayer.Character.Humanoid.Health > 0 then

            local distance = (playerAimbot.Character.HumanoidRootPart.Position - otherPlayer.Character.HumanoidRootPart.Position).Magnitude
            if distance < closestDistance then
                closestDistance = distance
                closestPlayer = otherPlayer
            end
        end
    end

    return closestPlayer
end

local function lockCameraToPlayer()
    local nearestPlayer = getNearestPlayer()
    if nearestPlayer and nearestPlayer.Character and nearestPlayer.Character:FindFirstChild(aimPart) then
        local target = nearestPlayer.Character[aimPart]
        cameraAimbot.CFrame = CFrame.new(cameraAimbot.CFrame.Position, target.Position)
    end
end

RunService.RenderStepped:Connect(function()
    if aimbotEnabled then
        lockCameraToPlayer()
    end
end)

CombatTab:CreateToggle({
    Name = "Enable Aimbot",
    CurrentValue = false,
    Flag = "AimbotToggle",
    Callback = function(Value)
        aimbotEnabled = Value
    end
})

CombatTab:CreateDropdown({
    Name = "Aim Part",
    Options = { "HumanoidRootPart", "Head" },
    CurrentOption = "HumanoidRootPart",
    Flag = "AimPartDropdown",
    Callback = function(Value)
        aimPart = Value[1]
    end
})

CombatTab:CreateSection("Hitbox Expander")

local PlayersHitbox = Players
local localPlayerHitbox = LocalPlayer

local toggleEnabled = false
local hitboxSize = 25
local rainbowEnabled = false
local selectedColor = Color3.fromRGB(100, 100, 255)

local function GetRainbowColor()
    local t = tick() * 2
    return Color3.fromHSV((t % 1), 1, 1)
end

local function ApplyEffect()
    for _, player in pairs(PlayersHitbox:GetPlayers()) do
        if player ~= localPlayerHitbox and player.Character then
            local humanoid = player.Character:FindFirstChildOfClass("Humanoid")
            local rootPart = player.Character:FindFirstChild("HumanoidRootPart")
            if humanoid and humanoid.Health > 0 and rootPart and rootPart:IsA("Part") then
                rootPart.Size = Vector3.new(hitboxSize, hitboxSize, hitboxSize)
                rootPart.Transparency = 0.5
                rootPart.Color = rainbowEnabled and GetRainbowColor() or selectedColor
                rootPart.CanCollide = true
            end
        end
    end
end

local function ResetEffect()
    for _, player in pairs(PlayersHitbox:GetPlayers()) do
        if player ~= localPlayerHitbox and player.Character then
            local rootPart = player.Character:FindFirstChild("HumanoidRootPart")
            if rootPart and rootPart:IsA("Part") then
                rootPart.Size = Vector3.new(2, 2, 1)
                rootPart.Transparency = 0
                rootPart.Color = Color3.new(1, 1, 1)
                rootPart.CanCollide = true
            end
        end
    end
end

CombatTab:CreateToggle({
    Name = "Enable Hitbox Expander",
    CurrentValue = false,
    Flag = "ToggleGiant",
    Callback = function(Value)
        toggleEnabled = Value
        if Value then
            ApplyEffect()
        else
            ResetEffect()
        end
    end,
})

CombatTab:CreateToggle({
    Name = "Enable Rainbow Hitbox",
    CurrentValue = false,
    Flag = "RainbowToggle",
    Callback = function(Value)
        rainbowEnabled = Value
        if toggleEnabled then
            if Value then
                local rainbowConnection
                rainbowConnection = RunService.RenderStepped:Connect(function()
                    if not rainbowEnabled or not toggleEnabled then
                        rainbowConnection:Disconnect()
                        return
                    end
                    ApplyEffect()
                end)
            else
                ApplyEffect()
            end
        end
    end,
})

CombatTab:CreateColorPicker({
    Name = "Hitbox ColorPicker",
    Color = selectedColor,
    Flag = "HitboxColor",
    Callback = function(Color)
        selectedColor = Color
        if toggleEnabled and not rainbowEnabled then
            ApplyEffect()
        end
    end,
})

CombatTab:CreateSlider({
    Name = "Hitbox Multiplier",
    Range = {5, 100},
    Increment = 1,
    Suffix = "Hbe",
    CurrentValue = hitboxSize,
    Flag = "HitboxSize",
    Callback = function(Value)
        hitboxSize = Value
        if toggleEnabled then ApplyEffect() end
    end,
})

CombatTab:CreateSection("Gun Mods Bypass.lmao")

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer
local Backpack = LocalPlayer:WaitForChild("Backpack")

local ToolsFolder = ReplicatedStorage.Assets.Tools

local NoSpread = false
local MaxDamage = false
local FastFireRate = false
local NoRecoil = false
local InfiniteAmmo = false

local InfiniteAmmoToggle = CombatTab:CreateToggle({
    Name = "Enable Infinite Ammo",
    CurrentValue = InfiniteAmmo,
    Callback = function(Value)
        InfiniteAmmo = Value
    end
})

task.spawn(function()
    while true do
        if InfiniteAmmo then
            for _, tool in ipairs(Backpack:GetChildren()) do
                if tool:IsA("Tool") then
                    local stuff = tool:FindFirstChild("Stuff")
                    if stuff then
                        local values = stuff:FindFirstChild("Values")
                        if values then
                            local currentAmmo = values:FindFirstChild("CurrentAmmo")
                            if currentAmmo then currentAmmo.Value = 10 end
                            local storedAmmo = values:FindFirstChild("StoredAmmo")
                            if storedAmmo then storedAmmo.Value = 10 end
                        end
                    end
                end
            end
        end
        task.wait(0.1)
    end
end)

local MaxDamageToggle = CombatTab:CreateToggle({
    Name = "Enable 1 Tap",
    CurrentValue = MaxDamage,
    Callback = function(Value)
        MaxDamage = Value
        for _, module in ipairs(ToolsFolder:GetChildren()) do
            if module:IsA("ModuleScript") then
                local ok, gunSettings = pcall(require, module)
                if ok and type(gunSettings) == "table" then
                    local bullet = gunSettings.BulletSettings
                    if bullet and type(bullet) == "table" then
                        if setreadonly then setreadonly(bullet, false) end
                        bullet.Damage = MaxDamage and 100 or bullet.Damage
                        if setreadonly then setreadonly(bullet, true) end
                    end
                end
            end
        end
    end
})

local FastFireRateToggle = CombatTab:CreateToggle({
    Name = "Enable Full Auto",
    CurrentValue = FastFireRate,
    Callback = function(Value)
        FastFireRate = Value
        for _, module in ipairs(ToolsFolder:GetChildren()) do
            if module:IsA("ModuleScript") then
                local ok, gunSettings = pcall(require, module)
                if ok and type(gunSettings) == "table" then
                    local bullet = gunSettings.BulletSettings
                    if bullet and type(bullet) == "table" then
                        if setreadonly then setreadonly(bullet, false) end
                        bullet.FireRate = FastFireRate and 100 or bullet.FireRate
                        bullet.Speed = FastFireRate and 100000000 or bullet.Speed
                        if setreadonly then setreadonly(bullet, true) end
                    end
                end
            end
        end
    end
})

local NoRecoilToggle = CombatTab:CreateToggle({
    Name = "Enable No Recoil",
    CurrentValue = NoRecoil,
    Callback = function(Value)
        NoRecoil = Value
        for _, module in ipairs(ToolsFolder:GetChildren()) do
            if module:IsA("ModuleScript") then
                local ok, gunSettings = pcall(require, module)
                if ok and type(gunSettings) == "table" then
                    local recoil = gunSettings.RecoilSettings
                    if recoil and type(recoil) == "table" then
                        if setreadonly then setreadonly(recoil, false) end
                        recoil.RecoilSpeed = NoRecoil and 0 or recoil.RecoilSpeed
                        if setreadonly then setreadonly(recoil, true) end
                    end
                end
            end
        end
    end
})

local NoSpreadToggle = CombatTab:CreateToggle({
    Name = "Enable No Spread",
    CurrentValue = NoSpread,
    Callback = function(Value)
        NoSpread = Value
        for _, module in ipairs(ToolsFolder:GetChildren()) do
            if module:IsA("ModuleScript") then
                local ok, gunSettings = pcall(require, module)
                if ok and type(gunSettings) == "table" then
                    local bullet = gunSettings.BulletSettings
                    if bullet and type(bullet) == "table" then
                        if setreadonly then setreadonly(bullet, false) end
                        bullet.MaxSpread = NoSpread and 0 or bullet.MaxSpread
                        if setreadonly then setreadonly(bullet, true) end
                    end
                end
            end
        end
    end
})

local AutoBuyTab = Window:CreateTab("Auto Buy", "shopping-cart")
AutoBuyTab:CreateSection("Ammo")


local ammoLocations = {
    {Name = "Drum (100£)", Position = CFrame.new(-51796, 7, 8)},
    {Name = "Bullets (15£)", Position = CFrame.new(-51796, 7, 8)},
    {Name = "Extended (40£)", Position = CFrame.new(-51803, 7, 8)},
    {Name = "Mag (60£)", Position = CFrame.new(-363, 340, -559)},
}
local ammoNames = {}
for _, location in ipairs(ammoLocations) do
    table.insert(ammoNames, location.Name)
end
local selectedAmmo = ammoLocations[1]
AutoBuyTab:CreateDropdown({
    Name = "Ammo",
    Options = ammoNames,
    CurrentOption = {ammoNames[1]},
    MultipleOptions = false,
    Flag = "AmmoDropdown",
    Callback = function(Options)
        for _, location in ipairs(ammoLocations) do
            if location.Name == Options[1] then
                selectedAmmo = location
                break
            end
        end
    end
})
AutoBuyTab:CreateButton({
    Name = "Buy Selected Ammo",
    Callback = function()
        local player = game.Players.LocalPlayer
        if player and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            player.Character.HumanoidRootPart.CFrame = selectedAmmo.Position
        end
    end
})

AutoBuyTab:CreateSection("Knives")
local knifeLocations = {
    {Name = "Zombie Knife (130£)", Position = CFrame.new(-51795, 7, -26)},
    {Name = "Knife (90£)", Position = CFrame.new(-51800, 7, -27)},
    {Name = "Survival Knife (100£)", Position = CFrame.new(-51804, 7, -27)},
}
local knifeNames = {}
for _, location in ipairs(knifeLocations) do
    table.insert(knifeNames, location.Name)
end
local selectedKnife = knifeLocations[1]
AutoBuyTab:CreateDropdown({
    Name = "Knives",
    Options = knifeNames,
    CurrentOption = {knifeNames[1]},
    MultipleOptions = false,
    Flag = "KnifeDropdown",
    Callback = function(Options)
        for _, location in ipairs(knifeLocations) do
            if location.Name == Options[1] then
                selectedKnife = location
                break
            end
        end
    end
})
AutoBuyTab:CreateButton({
    Name = "Buy Selected Knife",
    Callback = function()
        local player = game.Players.LocalLocalPlayer
        if player and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            player.Character.HumanoidRootPart.CFrame = selectedKnife.Position
        end
    end
})

AutoBuyTab:CreateSection("Guns")
local gunLocations = {
    {Name = "Mac (4,250£)", Position = CFrame.new(-51812, 7, -27)},
    {Name = "Revolver (2,200£)", Position = CFrame.new(-51816, 7, -27)},
    {Name = "Tec9 (4,520£)", Position = CFrame.new(-51821, 7, -27)},
    {Name = "Walther PPK (800£)", Position = CFrame.new(-51824, 7, -27)},
    {Name = "Glock 17 Ext (3,000£)", Position = CFrame.new(-51831, 7, -28)},
    {Name = "Glock 17 Switch (3,600£)", Position = CFrame.new(-51823, 7, -25)},
    {Name = "Glock Drum (4,530£)", Position = CFrame.new(-51832, 7, -21)},
    {Name = "Skorpion (5,600£)", Position = CFrame.new(-51831, 7, -18)},
    {Name = "MiiDraco (7,850£)", Position = CFrame.new(-51832, 7, -11)},
    {Name = "Thompson (6,625£)", Position = CFrame.new(-51832, 7, -8)},
    {Name = "Vector (8,000£)", Position = CFrame.new(-51832, 7, -5)},
    {Name = "AR15 (7,600£)", Position = CFrame.new(-51832, 7, 1)},
    {Name = "Shotgun (5,670£)", Position = CFrame.new(-51832, 7, 4)},
    {Name = "Sawnoff (6,250)", Position = CFrame.new(-51832, 7, 6)},
}
local gunNames = {}
for _, location in ipairs(gunLocations) do
    table.insert(gunNames, location.Name)
end
local selectedGun = gunLocations[1]
AutoBuyTab:CreateDropdown({
    Name = "Guns",
    Options = gunNames,
    CurrentOption = {gunNames[1]},
    MultipleOptions = false,
    Flag = "GunDropdown",
    Callback = function(Options)
        for _, location in ipairs(gunLocations) do
            if location.Name == Options[1] then
                selectedGun = location
                break
            end
        end
    end
})
AutoBuyTab:CreateButton({
    Name = "Buy Selected Gun",
    Callback = function()
        local player = game.Players.LocalPlayer
        if player and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            player.Character.HumanoidRootPart.CFrame = selectedGun.Position
        else
            warn("No valid character or HumanoidRootPart found!")
        end
    end
})

Window:CreateTab("Vehicle", "car")
VehicleTab:CreateSection("Spawn Car")

local selectedCar = ""

local function UpdateOwnedCars()
	local player = game:GetService("Players").LocalPlayer
	local ownedCarsFolder = player:FindFirstChild("OwnedCars")

	if not ownedCarsFolder then
		return {}
	end

	local carNames = {}
	local carPaths = {
		"AudiRS6", "Bmw530", "Brabus", "Bugatti", "Chiron 300", "Dirtbike", "Dodge Charger", 
		"Dodge Durango", "Dodge Hellcat", "Electric Scooter", "Honda CBR", "Jeep Grand Cherokee", 
		"Koenigsegg", "Lexus LC500", "Mercedes AMG", "Porsche 911", "Purosangue", "Quad", 
		"RR Boat Tail", "Range Rover", "RollRoyceGhost", "Rusty VW", "Scooter", "Sport Lexus", 
		"Toyota Landcruiser", "Toyota Supra", "Urus", "Van"
	}

	for _, carName in ipairs(carPaths) do
		local car = ownedCarsFolder:FindFirstChild(carName)
		if car and car:IsA("BoolValue") and car.Value == true then
			table.insert(carNames, carName)
		end
	end

	return carNames
end

VehicleTab:CreateDropdown({
	Name = "Owned Cars",
	Options = UpdateOwnedCars(),
	CurrentOption = {},
	Flag = "OwnedCarDropdown",
	Callback = function(Option)
		selectedCar = Option[1]
	end
})

VehicleTab:CreateButton({
	Name = "Spawn Selected Car",
	Callback = function()
		if selectedCar == "" then return end

		local args = {
			[1] = "spawn",
			[2] = selectedCar
		}

		game:GetService("ReplicatedStorage"):WaitForChild("CarRE"):InvokeServer(unpack(args))
		task.wait(2)

		local player = game:GetService("Players").LocalPlayer
		local carFolder = workspace:FindFirstChild("SpawnedVehicles")
		if carFolder then
			local carModel = carFolder:FindFirstChild(player.Name .. "'s Car")
			if carModel and carModel.PrimaryPart then
				player.Character:MoveTo(carModel.PrimaryPart.Position)
			end
		end
	end
})

local VehicleSection = VehicleTab:CreateSection("Buy Car")

local function UpdateBuyableCars()
	local player = game:GetService("Players").LocalPlayer
	local ownedCarsFolder = player:FindFirstChild("OwnedCars")

	if not ownedCarsFolder then
		return {}
	end

	local carNames = {}
	for _, car in ipairs(ownedCarsFolder:GetChildren()) do
		table.insert(carNames, car.Name)
	end

	return carNames
end

VehicleTab:CreateDropdown({
	Name = "Buyable Cars",
	Options = UpdateBuyableCars(),
	CurrentOption = {},
	Flag = "BuyCarDropdown",
	Callback = function(Option)
		selectedCar = Option[1]
	end
})

VehicleTab:CreateButton({
	Name = "Buy Selected Car",
	Callback = function()
		if selectedCar == "" then return end

		local args = {
			[1] = "buy",
			[2] = selectedCar
		}

		game:GetService("ReplicatedStorage"):WaitForChild("CarRE"):InvokeServer(unpack(args))

		Rayfield:Notify({
			Title = "Car Bought!",
			Content = "You have successfully bought " .. selectedCar,
			Duration = 5,
			Image = 4483345998
		})
	end
})

VehicleTab:CreateSection("Lock/Unlock")

VehicleTab:CreateButton({
	Name = "Lock Car",
	Callback = function()
		local args = {
			[1] = "lock"
		}
		game:GetService("ReplicatedStorage"):WaitForChild("CarRE"):InvokeServer(unpack(args))
	end
})

VehicleTab:CreateButton({
	Name = "Unlock Car",
	Callback = function()
		local args = {
			[1] = "unlock"
		}
		game:GetService("ReplicatedStorage"):WaitForChild("CarRE"):InvokeServer(unpack(args))
	end
})
