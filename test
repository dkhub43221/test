local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local executor = identifyexecutor and identifyexecutor() or "Unknown Executor"

local customTheme = {
   TextColor = Color3.fromRGB(255, 255, 255),
   Background = Color3.fromRGB(0, 0, 0),
   Topbar = Color3.fromRGB(0, 0, 0),
   TopbarLine = Color3.fromRGB(255, 255, 255),
   Shadow = Color3.fromRGB(0, 0, 0),
   Accent = Color3.fromRGB(255, 255, 255),
   NotificationBackground = Color3.fromRGB(0, 0, 0),
   NotificationActionsBackground = Color3.fromRGB(0, 0, 0),
   TabBackground = Color3.fromRGB(0, 0, 0),
   TabStroke = Color3.fromRGB(0, 0, 0),
   TabBackgroundSelected = Color3.fromRGB(0, 0, 0),
   TabTextColor = Color3.fromRGB(149, 149, 149),
   SelectedTabTextColor = Color3.fromRGB(255, 255, 255),
   ElementBackground = Color3.fromRGB(0, 0, 0),
   ElementBackgroundHover = Color3.fromRGB(20, 20, 20),
   SecondaryElementBackground = Color3.fromRGB(0, 0, 0),
   ElementStroke = Color3.fromRGB(255, 255, 255),
   SecondaryElementStroke = Color3.fromRGB(255, 255, 255),
   SliderBackground = Color3.fromRGB(0, 0, 0),
   SliderProgress = Color3.fromRGB(255, 255, 255),
   SliderStroke = Color3.fromRGB(255, 255, 255),
   ToggleBackground = Color3.fromRGB(0, 0, 0),
   ToggleEnabled = Color3.fromRGB(255, 255, 255),
   ToggleDisabled = Color3.fromRGB(100, 100, 100),
   ToggleEnabledStroke = Color3.fromRGB(255, 255, 255),
   ToggleDisabledStroke = Color3.fromRGB(100, 100, 100),
   ToggleEnabledOuterStroke = Color3.fromRGB(255, 255, 255),
   ToggleDisabledOuterStroke = Color3.fromRGB(100, 100, 100),
   DropdownSelected = Color3.fromRGB(255, 255, 255),
   DropdownUnselected = Color3.fromRGB(0, 0, 0),
   InputBackground = Color3.fromRGB(0, 0, 0),
   InputStroke = Color3.fromRGB(255, 255, 255),
   PlaceholderColor = Color3.fromRGB(150, 150, 150),
   KeyInputBackground = Color3.fromRGB(0, 0, 0),
   KeyInputTextColor = Color3.fromRGB(255, 255, 255)
}

local Window = Rayfield:CreateWindow({
   Name = "DK's Hub | Streetz War 2 | V0.0 [BETA] | " .. executor,
   Icon = nil,
   LoadingTitle = "",
   LoadingSubtitle = "",
   Theme = customTheme,
   DisableRayfieldPrompts = false,
   DisableBuildWarnings = false,
   ConfigurationSaving = {
      Enabled = false,
      FolderName = "BlackThemeHub",
      FileName = "BigHub"
   },
   Discord = {
      Enabled = true,
      Invite = "Fy7PanRV",
      RememberJoins = true
   },
   KeySystem = false,
   KeySettings = {
      Title = "X-DK | V1",
      Subtitle = "Enter Key Below",
      Note = "Buy A Key At Discord.gg/dkshub",
      FileName = "Key",
      SaveKey = true,
      GrabKeyFromSite = false,
      Key = {""},
      Theme = customTheme
   }
})

local AutofarmTab = Window:CreateTab("Autofarm", "clock-4")
AutofarmTab:CreateSection("Box Autofarm")


local ToggleEnabled = false
local player = game.Players.LocalPlayer

AutofarmTab:CreateToggle({
    Name = "Box Autofarm",
    CurrentValue = false,
    Flag = "BoxToggle",
    Callback = function(value)
        ToggleEnabled = value
        if ToggleEnabled then
            spawn(function()
                while ToggleEnabled do
                    local character = player.Character or player.CharacterAdded:Wait()
                    local rootPart = character:WaitForChild("HumanoidRootPart")

                    rootPart.CFrame = CFrame.new(-121, 4, 301)
                    task.wait(0.2)

                    local box = workspace:WaitForChild("Job"):WaitForChild("Box"):WaitForChild("BOX1")
                    local clickDetector = box:WaitForChild("ClickDetector")

                    fireclickdetector(clickDetector)
                    task.wait(0.2)

                    local backpack = player:WaitForChild("Backpack")
                    local boxTool = backpack:FindFirstChild("Box")
                    if boxTool then
                        player.Character.Humanoid:EquipTool(boxTool)
                    else
                        print("No Box tool found in backpack.")
                    end

                    rootPart.CFrame = CFrame.new(-111, 4, 146)
                    task.wait(0.5)
                end
            end)
        end
    end,
})

AutofarmTab:CreateSection("Mop Autofarm")

local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local backpack = player:WaitForChild("Backpack")
local giveMop = game:GetService("ReplicatedStorage"):FindFirstChild("GiveMop")

local function equipMop()
    local mop = backpack:FindFirstChild("Mop")
    if mop then
        mop.Parent = character
    end
end

local cleaningEnabled = false

AutofarmTab:CreateToggle({
    Name = "Mop Autofarm",
    CurrentValue = false,
    Flag = "CleanToggle",
    Callback = function(value)
        cleaningEnabled = value
        if cleaningEnabled then
            spawn(function()
                while cleaningEnabled do
                    for _, part in pairs(workspace.CleanPart:GetChildren()) do
                        if not cleaningEnabled then break end
                        if giveMop then
                            if giveMop:IsA("RemoteEvent") then
                                giveMop:FireServer()
                            elseif giveMop:IsA("RemoteFunction") then
                                giveMop:InvokeServer()
                            end
                            task.wait(1)
                            equipMop()
                        end
                        local targetPos
                        if part:IsA("BasePart") then
                            targetPos = part.Position
                        elseif part:IsA("Model") and part.PrimaryPart then
                            targetPos = part.PrimaryPart.Position
                        end
                        if targetPos then
                            character:MoveTo(targetPos)
                            task.wait(3)
                        end
                        for _, prompt in pairs(part:GetDescendants()) do
                            if prompt:IsA("ProximityPrompt") then
                                fireproximityprompt(prompt)
                                task.wait(0.5)
                            end
                        end
                    end
                    task.wait(1)
                end
            end)
        end
    end,
})

local CardTab = Window:CreateTab("Card", "credit-card")
CardTab:CreateSection("Autofarm Card V1")


local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local VirtualInputManager = game:GetService("VirtualInputManager")
local RunService = game:GetService("RunService")
local StarterGui = game:GetService("StarterGui")
local player = Players.LocalPlayer

local dupeAmount = 10

local function notifyFarmed(finalAmount)
    Rayfield:Notify({
        Title = "Success",
        Content = "You have Duped " .. tostring(finalAmount) .. " cards and laptops.",
        Duration = 6
    })
end

CardTab:CreateInput({
    Name = "Amount To Farm",
    PlaceholderText = "Input..",
    RemoveTextAfterFocusLost = false,
    Flag = "DupeAmount",
    Callback = function(value)
        dupeAmount = tonumber(value) or 10
        if dupeAmount <= 0 then
            dupeAmount = 10
        end
    end
})

local function duplicateCardsAndLaptops()
    if dupeAmount <= 0 then return end

    StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.All, false)
    RunService:Set3dRenderingEnabled(false)

    fireclickdetector(game.Workspace["Streetz War"].Anonymous.ClickDetector)
    task.wait()
    player.PlayerGui:WaitForChild("DealerGui")
    local shopGui = player.PlayerGui.DealerGui.ShopFrame
    shopGui.Visible = true
    player.PlayerGui.DealerGui.Frame.Visible = false

    repeat task.wait() until player.Character and player.Character:FindFirstChild("HumanoidRootPart")
    player.Character.HumanoidRootPart.CFrame = CFrame.new(-55, 4.5, 170)
    task.wait(0.5)

    local cardButton = shopGui["Blank Card"]
    local laptopButton = shopGui["laptop"]

    for i = 1, dupeAmount do
        task.wait()
        if cardButton.Visible then
            local cardPos = cardButton.AbsolutePosition
            VirtualInputManager:SendMouseButtonEvent(cardPos.X + 150, cardPos.Y + 60, 0, true, game, 0)
            task.wait()
            VirtualInputManager:SendMouseButtonEvent(cardPos.X + 150, cardPos.Y + 60, 0, false, game, 0)
        end

        if laptopButton.Visible then
            local laptopPos = laptopButton.AbsolutePosition
            VirtualInputManager:SendMouseButtonEvent(laptopPos.X + 150, laptopPos.Y + 60, 0, true, game, 0)
            task.wait()
            VirtualInputManager:SendMouseButtonEvent(laptopPos.X + 150, laptopPos.Y + 60, 0, false, game, 0)
        end
    end

    RunService:Set3dRenderingEnabled(true)

    local exitButton = shopGui.exit
    VirtualInputManager:SendMouseButtonEvent(exitButton.AbsolutePosition.X + 300, exitButton.AbsolutePosition.Y + 65, 0, true, game, 0)
    task.wait()
    VirtualInputManager:SendMouseButtonEvent(exitButton.AbsolutePosition.X + 300, exitButton.AbsolutePosition.Y + 65, 0, false, game, 0)

    player.Character.HumanoidRootPart.CFrame = CFrame.new(949, 4, -102)
    task.wait(2)

    local laptopCount = 0
    for _, v in pairs(player.Backpack:GetChildren()) do
        if v.Name == "Laptop" then
            laptopCount = laptopCount + 1
        end
    end

    for i = 1, laptopCount - 1 do
        spawn(function()
            local args = { true, "NEW123" }
            ReplicatedStorage.Assets.Other.GiverPunchmade:InvokeServer(unpack(args))
        end)
    end

    task.wait(4)
    if player.Backpack:FindFirstChild("Laptop") then
        player.Backpack.Laptop.Parent = player.Character
    end
    task.wait(4)

    local cardCount = 0
    for _, v in pairs(player.Backpack:GetChildren()) do
        if v.Name == "Loaded Card" then
            cardCount = cardCount + 1
        end
    end

    for i = 1, cardCount do
        spawn(function()
            local args = { false, "NEW123" }
            ReplicatedStorage.Assets.Other.GiverPunchmade:InvokeServer(unpack(args))
        end)
    end

    task.wait(1)
    player.Character.Humanoid:UnequipTools()

    StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.All, true)
    notifyFarmed(dupeAmount)
end

CardTab:CreateButton({
    Name = "",
    Callback = function()
        duplicateCardsAndLaptops()
    end
})
