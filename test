local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local backpack = player:WaitForChild("Backpack")
local safe = workspace:WaitForChild("Apartments"):WaitForChild("LuxuryApartment"):WaitForChild("Safe")

while true do
    local tools = {}
    for _, tool in ipairs(backpack:GetChildren()) do
        if tool:IsA("Tool") and tool.Name ~= "Phone" then
            table.insert(tools, tool)
        end
    end

    if #tools == 0 then
        break
    end

    local randomTool = tools[math.random(1, #tools)]
    randomTool.Parent = character

    ReplicatedStorage.StoreItemSafe:FireServer(safe)
    ReplicatedStorage.TakeItemSafe:FireServer(randomTool.Name, safe)
end
